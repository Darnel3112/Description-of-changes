Подсистемы.itilprofУправлениеКонфигурациямиИАктивамиУслуги - в состав включен новый справочник пр_НастройкиГрупповогоСогласованияДокументов
Подсистема.itilprofServiceDesk - в состав включен новый регистр сведений пр_ЗамещениеСотрудников и регистр пр_ПаузыСменСотрудников

========================================================================================================================================

ОбщийМодуль.ПР_Telegram.ДокументыНаСогласовании() - изменен алгоритм получения документов перемещения на согласовании с учетом замещений сотрудников
ОбщийМодуль.ПР_Telegram.ПолучитьМенюПеремещенияАктивов() - изменена отрисовка кнопок согласования (основной мол может только согласовывать документы)
ОбщийМодуль.ПР_Telegram.ПолучитьОписаниеПеремещенияАктивов() - изменено отображение карточки документов перемещения на согласовании с учетом замещений сотрудников
ОбщийМодуль.ПР_Telegram.ПроверкаОтправкиУведомленийПолучателямВTelegram() - при отправке перемещения на согласование не учитывается реквизит пользователя НеУведомлятьОбИнцидентахВОчередях
ОбщийМодуль.ПР_Telegram.ТекущийПользовательЭтоПодписант() - изменена проверка подписанта документа с учетом замещений сотрудников
ОбщийМодуль.ПР_Telegram.ОтправитьПисьмоНаПочту() - в текст письма о наличии документов на согласовании добавлена ссылка на чат-бот
ОбщийМодуль.ПР_Telegram.ОтправкаУведомлений() - изменен алгоритм получения документов перемещения на согласовании с учетом замещений сотрудников; 
при отправке писем на почту о наличии документов на согласовании число дней ожидания подписание берется из константы пр_ЧислоДнейОжиданияСогласованияДокументов

========================================================================================================================================

ОбщийМодуль.ПР_ОбщегоНазначенияСервер.ПолучитьЗамещающихСотрудника() - новая функция - получение массива замещающих сотрудников
ОбщийМодуль.ПР_ОбщегоНазначенияСервер.РассчитатьИтоговуюСуммуДокумента() - новая экспортная функция - расчет итоговой суммы документа по средней цене закупа комплектующих

========================================================================================================================================

ОбщийМодуль.ПР_СозданиеДокументовДляОбмена.ПР_СозданиеДокументовДляОбменаПеремещенияАктивовПриЗаписи() - добавлено условие создания технических документов: 
при подписании основным молом без изменения состояния перемещения документы не создаются

ОбщийМодуль.ПР_СозданиеДокументовДляОбмена.ПроверкаРасходМатериаловСписаниеОС() - изменен запрос сбора данных для создания документа "ПР_РасходМатериаловДляОбмена" на основании "itilprofСписаниеАктивов"
ОбщийМодуль.ПР_СозданиеДокументовДляОбмена.СоздатьДокументПроцессПеремещение() - изменен механизм формирования тех документа ПР_ПередачаОСДляОбмена

========================================================================================================================================

ОбщийМодуль.пр_СогласованиеДокументов.ЗаполнитьКомпоновщикНастроекСхемыКомпоновки() - новая функция - инициализация и заполнение Компоновщика настроек схемы компоновки данных
ОбщийМодуль.пр_СогласованиеДокументов.ОтклонитьДокумент() - добавлена запись доп свойства для обхода записи в очередь группового согласования; добавлен запрет на отклонение перемещения для основного МОЛа
ОбщийМодуль.пр_СогласованиеДокументов.ПодписатьДокумент() - добавлена запись доп свойства для обхода записи в очередь группового согласования
ОбщийМодуль.пр_СогласованиеДокументов.ПолучитьТекстЗапросаПоТипуДокумента() - новая функция - формирует текст запроса получения Ссылки для заданного типа документа
ОбщийМодуль.пр_СогласованиеДокументов.СоздатьСхемуКомпоновкиДанныхПоТипуДокумента() - новая функция - создание схемы компоновки данных для заданного типа документа
ОбщийМодуль.пр_СогласованиеДокументов.пр_ДокументыГрупповогоСогласованияОбработкаПроведения() - новый метод - обработчик подписки пр_ДокументыГрупповогоСогласованияОбработкаПроведения, 
производит запись документа в регистр определения возможности группового согласования при заданном доп.параметре

ОбщийМодуль.пр_СогласованиеДокументов.пр_ДокументыГрупповогоСогласованияОбработкаУдаленияПроведения() - новая функция - обработчик подписки пр_ДокументыГрупповогоСогласованияОбработкаУдаленияПроведения, 
удаление движений по документу из регистров Состояния согласования документов и Очередь определения возможности группового согласования документов

ОбщийМодуль.пр_СогласованиеДокументов.пр_ПроверкаВозможностиГрупповогоСогласования() - новый метод - обработчик РЗ пр_ПроверкаВозможностиГрупповогоСогласования, 
поиск и проверка настроек группового согласования для документов из очереди определения возможности группового согласования

ОбщийМодуль.пр_СогласованиеДокументов.СогласоватьПеремещениеАктивов() - при установке состояния документа добавлено условие на заполненность нового состояния

========================================================================================================================================

Роль.ITIL_БазовыеПрава:
1) Добавлены права на просмотр на общих команд: "пр_СвязанныеДокументы" и "пр_ИзносАктивовПоГодам"
2) Добавлено право на чтение новой константы "пр_ЧислоДнейОжиданияСогласованияДокументов"
3) Добавлено право на чтение справочника пр_НастройкиГрупповогоСогласованияДокументов
4) Добавлены права на чтение регистров сведений: "ПР_АвтоматическиСписываемыеПозиции", "пр_ПаузыСменСотрудников", "пр_ОчередьОпределенияВозможностиГрупповогоСогласования", "пр_ЗамещениеСотрудников"
5) Добавлено право на чтение регистра накопления: "пр_АктивыОжидающиеПодтвержденияОсновногоМОЛа"

Роль.itilprofПолныеПраваПоОрганизации - сняты права Интерактивное удаление, Интерактивное удаление предопределенных, Интерактивная пометка на удаление предопределенных, 
Интерактивное снятие пометки удаления предопределенных с нового справочника пр_НастройкиГрупповогоСогласованияДокументов

Роль.ПолныеПрава - сняты права Интерактивное удаление, Интерактивное удаление предопределенных, Интерактивная пометка на удаление предопределенных, 
Интерактивное снятие пометки удаления предопределенных с справочника пр_НастройкиГрупповогоСогласованияДокументов

Роль.пр_ЧтениеИзменениеНастройкиГрупповогоСогласования - полные права на справочник пр_НастройкиГрупповогоСогласованияДокументов кроме Интерактивнного удаления

Роль.пр_ЧтениеИзменениеЗамещенияСотрудников - права на чтение и изменение регистра Замещения сотруднииков

========================================================================================================================================

ПодпискиНаСобытие.пр_ДокументыГрупповогоСогласованияОбработкаПроведения - новая подписка для документов itilprofСписаниеАктивов, itilprofСписаниеРасходногоМатериала, itilprofКомплектацияАктивов на событие ОбработкаПроведения

ПодпискиНаСобытие.пр_ДокументыГрупповогоСогласованияОбработкаУдаленияПроведения - новая подписка для документов itilprofСписаниеАктивов, itilprofСписаниеРасходногоМатериала, itilprofКомплектацияАктивов на событие ОбработкаУдаленияПроведения

========================================================================================================================================

РегламентноеЗадание.пр_ПроверкаВозможностиГрупповогоСогласования - новое регламентное задание

========================================================================================================================================

ОпределяемыеТипы.ВерсионируемыеДанные - добавлен справочник "пр_НастройкиГрупповогоСогласованияДокументов"
ОпределяемыеТипы.ВерсионируемыеДанныеОбъект - добавлен справочник "пр_НастройкиГрупповогоСогласованияДокументов"

========================================================================================================================================

Константы.пр_ЧислоДнейОжиданияСогласованияДокументов - новая константа количество суток	ожидания при согласовании документа "itilprofПеремещениеАктивов", перед отправкой на повторное согласование

========================================================================================================================================

Справочники.itilprofАктивы.ФормаСписка.ВыбратьАктив - добавлена возможность множественного выбора из данной формы

========================================================================================================================================

Справочник.пр_НастройкиГрупповогоСогласованияДокументов - Новый справочник хранения настроек группового согласования документов
    Реквизиты: - ТипДокумента - тип Перечисление.пр_ДокументыГрупповогоСогласования
               - ФизическоеЛицо - тип Справочник.ФизическиеЛица
               - Отбор - тип ХранилищеЗначения
               - ПредставлениеОтбора - тип Строка(1024)
               - ЗаписьАктивна - тип Булево

Справочник.пр_НастройкиГрупповогоСогласованияДокументов.ФормаЭлемента - добавлена форма элемента
Справочник.пр_НастройкиГрупповогоСогласованияДокументов.ФормаСписка - добавлена форма списка

========================================================================================================================================

Документ.itilprofЗапросы.Форма.ФормаДокумента: изменены свойства элементов формы

========================================================================================================================================

Документ.itilprofКомплектацияАктивов - добавлен реквизит пр_ИтоговаяСумма
Документ.itilprofКомплектацияАктивов.МодульОбъекта.ПередЗаписью() - добавлен расчет итоговой суммы документа 
Документ.itilprofКомплектацияАктивов.Форма - выведен реквизит пр_ИтоговаяСумма

========================================================================================================================================

Документ.itilprofПеремещениеАктивов: 
1) Добавлен реквизит "пр_ЗамещениеМОЛ",
2) ТЧ "Активы" добавлены реквизиты "пр_ЗамещениеМОЛДо", "пр_ЗамещениеМОЛПосле"	
3) Добавлено новое движение по регистру накопления "пр_АктивыОжидающиеПодтвержденияОсновногоМОЛа"

Документ.itilprofПеремещениеАктивов.МодульОбъекта.ОбработкаПроведения() - добавлена запись движений в новом состоянии перемещения "Подтверждено основным МОЛом"
Документ.itilprofПеремещениеАктивов.МодульОбъекта.ВыполнитьДвиженияПоРегистрам() - добавлена запись движений в новом состоянии перемещения "Подтверждено основным МОЛом"
Документ.itilprofПеремещениеАктивов.МодульОбъекта.ВыполнитьДвиженияПоАктивамОжидающимПодтвержденияОсновнымиМОЛами() - новый метод - запись движений в регистр пр_АктивыОжидающиеПодтвержденияОсновногоМОЛа
Документ.itilprofПеремещениеАктивов.МодульОбъекта.ПроверкаНаПовторныйВводВЭксплуатацию() - добавлено ислючение, чтобы текущий объект не попадал в проверку на повторный ввод в эксплуатацию

Документ.itilprofПеремещениеАктивов.МодульМенеджера.ПолучитьНовоеСостояниеИлиПодписантаЭП() - изменение алгоритма получения нового состояния/подписанта документа с учетом использования замещения сотрудников

Документ.itilprofПеремещениеАктивов.ФормаДокумента:
1) ТЗ Активы добавлена колонка пр_ЕстьЗамещение 
2) Добавлена команда пр_ИзменитьЗамещениеМОЛ
3) На форму выведены реквизиты "пр_ЗамещениеМОЛДо", "пр_ЗамещениеМОЛПосле" ТЧ "Активы"
4) На форму выведен реквизит "ПР_ИсторияСогласованияТипПодписанта" ТЧ "ПР_ИсторияСогласования"

Документ.itilprofПеремещениеАктивов.ФормаДокумента.АктивыАналитикаПосле1ПриИзмененииНаСервере() - добавлено заполнение замещения при обновлении МОЛа после
Документ.itilprofПеремещениеАктивов.ФормаДокумента.ПроверкаМОЛыВОтпускеИлиУволены() - добавлена проверка отпуска/увольнения замещающих
Документ.itilprofПеремещениеАктивов.ФормаДокумента.ПроверкаРегистрацииПодписантовВЧатБоте() - добавлена проверка регистрации замещающих МОЛов
Документ.itilprofПеремещениеАктивов.ФормаДокумента.АктивыАналитикаДо1ПриИзменении() - новый метод - очистка МОЛа и замещающих при очистке рабочего места
Документ.itilprofПеремещениеАктивов.ФормаДокумента.АктивыАналитикаПосле2ПриИзменении() - добавлено заполнение замещения при обновлении МОЛа после
Документ.itilprofПеремещениеАктивов.ФормаДокумента.Активыпр_ЗамещениеМОЛПослеПриИзменении() - новый метод - заполнение значения пр_ЕстьЗамещение для отображения колонки
Документ.itilprofПеремещениеАктивов.ФормаДокумента.АктивыПриАктивизацииЯчейки() - добавлено заплнение списка выбора замещающих основного МОЛа
Документ.itilprofПеремещениеАктивов.ФормаДокумента.ЗаполнитьОтпускИЗамещающихМОЛов() - новый метод - заполнение отпуска и замещающих МОЛов
Документ.itilprofПеремещениеАктивов.ФормаДокумента.ОбновитьРеквизитыФормыСервер() - добавлена установка видимости колонки Замещающих в зависимости от состояния реквизима Замещение
Документ.itilprofПеремещениеАктивов.ФормаДокумента.ОбработатьШтрихкоды() - обновлен механизм поиска по сосканированному штрих-коду
Документ.itilprofПеремещениеАктивов.ФормаДокумента.ОбработкаОповещения() - механизм поика по штрих-коду перенесен в процедуру ОбработатьШтрихкоды()
Документ.itilprofПеремещениеАктивов.ФормаДокумента.ПередЗаписью() - добавлено удаление замещающих при выключенном замещении
Документ.itilprofПеремещениеАктивов.ФормаДокумента.ПоместитьВТаблицуОборудования() - добавлено заполнение отпуска и замещающих МОЛов
Документ.itilprofПеремещениеАктивов.ФормаДокумента.ПР_Заполнить() - в параметры формы аполнения реквизитов ТЧ добавлена дата документа
Документ.itilprofПеремещениеАктивов.ФормаДокумента.пр_УстановитьЗначениеОтображениеЗамещениеМОЛ() - новый метод - вызывает смену состояния замещения на сервере
Документ.itilprofПеремещениеАктивов.ФормаДокумента.ПриЗакрытииФормыЗаполнения() - добавлено заполнение новых реквизитов ТЧ "Активы"
Документ.itilprofПеремещениеАктивов.ФормаДокумента.ПриОткрытии() - добавлено заполнение отпуска и замещающих МОЛов, изменение отображения соответствующих реквизитов
Документ.itilprofПеремещениеАктивов.ФормаДокумента.УстановитьЗначениеОтображениеЗамещениеМОЛ() - новый метод - устанавливает зачение реквизита ЗамещениеМОЛ и отображение реквизитов замещения


Документ.itilprofПеремещениеАктивов.Форма.ПР_ФормаЗаполненияРеквизитовТЧАктивы - на форму добавлены новые реквизиты "Замещающий", "ДатаДокумента"
Документ.itilprofПеремещениеАктивов.Форма.ПР_ФормаЗаполненияРеквизитовТЧАктивы.ПР_МОЛПриИзменении() - добавлено заполнение замещающего выбранного МОЛа
Документ.itilprofПеремещениеАктивов.Форма.ПР_ФормаЗаполненияРеквизитовТЧАктивы.ПР_ОК() - добавлени параметр закрытия Замещающий
Документ.itilprofПеремещениеАктивов.Форма.ПР_ФормаЗаполненияРеквизитовТЧАктивы.ПР_РабочееМестоПриИзмененииНаСервере() - добавлено заполнение замещающего МОЛа рабочего места
Документ.itilprofПеремещениеАктивов.Форма.ПР_ФормаЗаполненияРеквизитовТЧАктивы.ПриСозданииНаСервере() - добавлено заполнение реквизита ДатаДокумента

========================================================================================================================================

Документ.itilprofСписаниеАктивов - добавлены реквизиты пр_ИтоговаяСумма, пр_РемонтуНеПодлежит
Документ.itilprofСписаниеАктивов.МодульОбъекта.ПередЗаписью() - добавлен расчет итоговой суммы документа
Документ.itilprofСписаниеАктивов.МодульОбъекта.ПолучитьТЗПозиций() - новая функция - получение комплектующих списания в зависимости от типа ремонта
Документ.itilprofСписаниеАктивов.Форма - выведен реквизит пр_ИтоговаяСумма

========================================================================================================================================

Документ.itilprofСписаниеРасходногоМатериала - добавлен реквизит пр_ИтоговаяСумма
Документ.itilprofСписаниеРасходногоМатериала.МодульОбъекта.ПередЗаписью() - добавлен расчет итоговой суммы документа
Документ.itilprofСписаниеРасходногоМатериала.Форма - выведен реквизит пр_ИтоговаяСумма

========================================================================================================================================

Перечисление.ПР_СостоянияПеремещения.пр_ПодтвержденоОсновнымМОЛом - новое значение перечисления

Перечисление.ПР_ТипыПодписантов.ОсновнойМОЛДо - новое значение перечисления			
Перечисление.ПР_ТипыПодписантов.ОсновнойМОЛПосле - новое значение перечисления

Перечисление.ПР_СостоянияСогласования.ОжидаетГрупповогоПодписания - новое значение перечисления	

Перечисление.пр_ДокументыГрупповогоСогласования - новое перечисление - перечень документов группового согласования 

========================================================================================================================================

Обработка.ПР_АРМСистемногоАдминистратора.Форма.СозданиеДокументовСписанияАктивов() - добавлено заполнение нового реквизита документа itilprofСписаниеАктивов - пр_РемонтуНеПодлежит

========================================================================================================================================

Обработка.пр_АРМКладовщика.Форма:
1) Изменены запросы динамических списков: "СписокЗаказыПоставщику", "СписокЗапросыНаОборудование", "СписокЗаявкиНаВыдачуСоСклада"
2) Изменены свойства элементов формы

Обработка.пр_АРМКладовщика.Форма.СогласоватьПеремещенияНаСервере() - алгоритм согласования документов перемещения перенесен в отдельный модуль 
Обработка.ПР_АРМКладовщика.Форма.ОтклонитьПеремещенияНаСервере() - алгоритм согласования документов перемещения перенесен в отдельный модуль 

========================================================================================================================================

Обработка.ПР_АРМСогласованияДокументов.Форма - добавлена страница ГрупповоеСогласование, команда ПодписатьГруппой, реквизит таблица значений - ПодписаниеГрупповое

Обработка.ПР_АРМСогласованияДокументов.Форма.ОбновитьГрупповоеПодписание() - новый метод - добавлено заполнение списка документов группового подписания с учетом замещения сотрудников
Обработка.ПР_АРМСогласованияДокументов.Форма.ОбновитьДокументыНаПодписание() - изменено получение списка документов на подписании с учетом замещения сотрудников
Обработка.ПР_АРМСогласованияДокументов.Форма.ОбновитьОчередиПодписания() - добавлено обновление списка документов на групповом подписании
Обработка.ПР_АРМСогласованияДокументов.Форма.ОбновитьПодписаниеКомплектация() - добавлен отбор на документы, прошедшие проверку возможности группового согласования; 
изменено получение списка документов на подписании с учетом замещения сотрудников

Обработка.ПР_АРМСогласованияДокументов.Форма.ОбновитьПодписаниеПеремещениеАктивов() - изменено получение списка документов на подписании с учетом замещения сотрудников 
Обработка.ПР_АРМСогласованияДокументов.Форма.ОбновитьПодписаниеСписаниеАктивов() - добавлен отбор на документы, прошедшие проверку возможности группового согласования; 
изменено получение списка документов на подписании с учетом замещения сотрудников 

Обработка.ПР_АРМСогласованияДокументов.Форма.ОбновитьПодписаниеСписаниеРМ() - добавлен отбор на документы, прошедшие проверку возможности группового согласования; 
изменено получение списка документов на подписании с учетом замещения сотрудников 

Обработка.ПР_АРМСогласованияДокументов.Форма.ОтборГрупповоеПодписаниеДатаНачалаПриИзменении() - новый метод - обновление списка документов группового подписания при установке фильтров
Обработка.ПР_АРМСогласованияДокументов.Форма.ОтборГрупповоеПодписаниеДатаОкончанияПриИзменении() - новый метод - обновление списка документов группового подписания при установке фильтров
Обработка.ПР_АРМСогласованияДокументов.Форма.ОтборГрупповоеПодписаниеДокументОснованиеПриИзменении() - новый метод - обновление списка документов группового подписания при установке фильтров
Обработка.ПР_АРМСогласованияДокументов.Форма.ОтборГрупповоеПодписаниеОтветственныйПриИзменении() - новый метод - обновление списка документов группового подписания при установке фильтров
Обработка.ПР_АРМСогласованияДокументов.Форма.ОтборГрупповоеПодписаниеТипРемонтаПриИзменении() - новый метод - обновление списка документов группового подписания при установке фильтров
Обработка.ПР_АРМСогласованияДокументов.Форма.ОтклонитьНаСервере() - отклонение документов перенесено в отдельный общий модуль пр_СогласованиеДокументов
Обработка.ПР_АРМСогласованияДокументов.Форма.ОтозватьСогласованиеНаСервере() - отзыв с согласования перенесен в общий модуль пр_СогласованиеДокументов
Обработка.ПР_АРМСогласованияДокументов.Форма.ПодписаниеГрупповоеВыбор() - новый метод - просмотр выбранного документа из списка группового подписания
Обработка.ПР_АРМСогласованияДокументов.Форма.ПодписатьВыбранныеНаСервере() - согласование документов перенесено в отдельный общий модуль пр_СогласованиеДокументов
Обработка.ПР_АРМСогласованияДокументов.Форма.ПодписатьГруппой() - новый метод - вызывает групповое подписание на сервере
Обработка.ПР_АРМСогласованияДокументов.Форма.ПодписатьГруппойНаСервере() - новый метод - подписание выбранных документов группового согласования
Обработка.ПР_АРМСогласованияДокументов.Форма.СнятьУстановитьПометку() - добавлена установка/снятие пометок для таблицы документов группового подисания

========================================================================================================================================

РегистрыСведений.ПР_АвтоматическиСписываемыеПозиции - добавлена новая форма списка, она же назначена основной формой списка у регистра

========================================================================================================================================

РегистрСведений.пр_ОчередьОпределенияВозможностиГрупповогоСогласования - новый регистр  
    Измерение: Документ - тип itilprofСписаниеАктивов, itilprofСписаниеРасходногоМатериала, itilprofКомплектацияАктивов

========================================================================================================================================

РегистрСведений.пр_ЗамещениеСотрудников - новый регистр  
    Измерения: 	ДатаНачала - тип Дата
                Сотрудник - тип Физические лица	
                Замещающий - тип Физические лица	
    Ресурс: ДатаОкончания - тип Дата

========================================================================================================================================

РегистрСведений.пр_ЗамещениеСотрудников.ФормаЗаписи - добавлена форма записи регистра				
РегистрСведений.пр_ЗамещениеСотрудников.ФормаСписка - добавлена форма записи регистра

========================================================================================================================================

РегистрНакопления.пр_АктивыОжидающиеПодтвержденияОсновногоМОЛа - новый регистр накопления				
