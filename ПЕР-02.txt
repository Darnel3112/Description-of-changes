ОбщиеМодули.itilprofПроцессыКлиент.ЗапуститьПроцессПродолжить - добавлен механизм записи прихода в регистр накопления "ПР_РезервыАктивов", при регистрации документа "Запрос" с видом "ЗаякаНаВыдачуСоСклада"
ОбщиеМодули.itilprofПроцессыКлиент.ОбработкаВыбранногоЭлемента - добавлен механизм записи прихода в регистр накопления "ПР_РезервыАктивов", при переходе на этап 
"Зарегистрирован" и удаления записи о приходе из того же регистра при переходе на этап "Отменен" в документе "Запрос" с видом "ЗаякаНаВыдачуСоСклада" (переносить только это)

ОбщиеМодули.itilprofПроцессыКлиент.УстановитьДоступностьИВидимостьЭлементовФормы - добавлен механизм блокировки для интерактивного редактирования формы документа "Запрос" с видом "ЗаявкаНаВыдачу", если документ 
находится на этапе "Зарегистрирован"

================================================================

ОбщиеМодули.ДатыЗапретаИзменений.ОбъектПриЧтенииНаСервере - доработан механизм "даты запрета изменений" для документа Запрос" с видом "ЗаявкаНаВыдачу"
ОбщиеМодули.ДатыЗапретаИзмененийСлужебный.ПроверитьДатыЗапретаИзмененияЗагрузкиДанных - доработан механизм "даты запрета изменений" для документа Запрос" с видом "ЗаявкаНаВыдачу"
ОбщиеМодули.ЗащитаПерсональныхДанных.ПриЗаполненииИсточниковДанныхДляПроверкиЗапретаИзменения - доработан механизм "даты запрета изменений" для документа Запрос" с видом "ЗаявкаНаВыдачу"
ОбщиеМодули.ШаблоныСообщенийСлужебный.СформироватьСообщение - добавлен алгоритм добавления получателей письма
ОбщиеМодули.ШаблоныСообщенийСлужебныйПостИсп.ПриОпределенииНастроек -  у структуры настроек изменено заполнение параметра "ИспользоватьПроизвольныеПараметры"

================================================================

ОбщиеМодули.ПР_ОтправкаУведомлений - добавлен новый общий модуль, в котором описаны алгоритмы работы регламентных заданий: "ПР_ОтправкаУведомлений" и "ПР_ОтправкаПисемМенеджеру"
ОбщиеМодули.ПР_ОтправкаУведомлений.ПР_ОтправкаУведомлений - процедура - обработчик регламентного задания "ПР_ОтправкаУведомлений". В ходе выполнения различных операций над документом "itilprofПеремещениеАктивов",
будут отсылаться электронные письма различным участникам процесса. Сами письма находятся в регистре сведений "ПР_ОчередьУведомлений" 

ОбщиеМодули.ПР_ОтправкаУведомлений.РЗ_ПР_ОтправкаПисемМенеджеру - процедура - обработчик регламентного задания "ПР_ОтправкаПисемМенеджеру". Шлет письмо менеджеру по закупкам, 
если в документе "itilprofПоступлениеАктивов", есть расхождения с заказом поставщику. Выборка документов видется по признаку "ПР_ЕстьРасхождения", установленном в самом документе.

================================================================

Роли.itilprofБазовыеПрава - добавлены новые объекты (только чтение): 1) Справочники "ПР_ЦелиПеремещения" и "ПР_ТипыУведомлений"; 2) РегистрыСведений "ПР_ОчередьУведомлений"; 
3) РегистрыНакопления "ПР_РезервыАктивов" и "ПР_ТоварыВПути"

Роли.ПолныеПраваПоОрганизации - добавлены новые объекты (чтение и изменение): : 1) Справочники "ПР_ЦелиПеремещения" и "ПР_ТипыУведомлений"; 2) РегистрыСведений "ПР_ОчередьУведомлений"; 
3) РегистрыНакопления "ПР_РезервыАктивов" и "ПР_ТоварыВПути"

Роли.ПолныеПрава - добавлены новые объекты (чтение и изменение): : 1) Справочники "ПР_ЦелиПеремещения" и "ПР_ТипыУведомлений"; 2) РегистрыСведений "ПР_ОчередьУведомлений"; 
3) РегистрыНакопления "ПР_РезервыАктивов" и "ПР_ТоварыВПути"

Роли.ПР_ЧтениеЗаявкиНаВыдачуСоСклада - добавлена новая роль, обладатель этой роли, сможет читать документ "Запрос" с видом "ЗаявкаНаВыдачуСоСклада" 	
Роли.ПР_ЧтениеИИзменениеЗаявкиНаВыдачуСоСклада - добавлена новая роль, обладатель этой роли, сможет читать и редактировать документ "Запрос" с видом "ЗаявкаНаВыдачуСоСклада"
Роли.ПР_ИзменениеАктиваВПеремещении - добавлена новая роль, обладатель этой роли сможет заменять активы в табличной части документа "itilprofПеремещениеАктивов"

================================================================

ПодпискиНаСобытия.ПроверитьДатуЗапретаИзмененияПередЗаписьюДокументаЗащитаПерсональныхДанных - добавлен источник "itilprofЗапросы"
ПодпискиНаСобытия.ПроверитьДатуЗапретаИзмененияПередУдалениемЗащитаПерсональныхДанных - добавлен источник "itilprofЗапросы"
ПодпискиНаСобытия.ПР_СозданиеДокументовДляОбменаПеремещенияАктивов - создана новая подписка на событие "ПриЗаписи". Источник "ДокументОбъект.itilprofПеремещениеАктивов", 
необходима для реализации обмена между ITIL и БП

================================================================

РегламентныеЗадания.ПР_ОтправкаУведомлений - добавлено новое регламентное задание по рассылке электронных писем по документу "itilprofПеремещениеАктивов"

================================================================

ОпределяемыеТипы.ПредметВзаимодействия - добавлен новый тип данных "ДокументСсылка.itilprofПеремещениеАктивов"
ОпределяемыеТипы.ПредметШаблонаСообщения - добавлен новый тип данных "ДокументСсылка.itilprofПеремещениеАктивов"

================================================================

ОбщиеФормы.itilprofФормаПодбораАктивов:
1) Изменен запрос динамического списка реквизита "ТаблицаОстатков". Изменены параметры динамического списка.
2) У элемента формы "Аналитика1" активировано событие "Обработка выбора"
3) У группы формы "ГруппаОстатки" изменен заголовок
4) У колонок "Актив" и "КоличествоОстаток" таблицы формы "ТаблицаОстатков" изменены заголовки. У этой же таблицы добавлены новые колонки.
5) У группы формы "ГруппаВыбранных" изменен заголовок.
6) У колонки "ТаблицаВыбранныхАктив" таблицы формы "ТаблицаВыбранных" изменен заголовок.

================================================================

ОбщиеФормы.itilprofФормаПодбораАктивов.Аналитика2УзнатьЗначениеПоУмолчанию - новая функция, возвращает значение реквизита "Аналитика2", которое ищется по реквизиту "Аналитика1" 
в регистре накопления "itilprofАктивы" по таблице остатков

ОбщиеФормы.itilprofФормаПодбораАктивов.Аналитика1ОбработкаВыбора - новая процедура - обработчик события "ОбработкаВыбора", необходима для заполнения реквизита "Аналитика2"
ОбщиеФормы.itilprofФормаПодбораАктивов.Аналитика1ПриИзменении - изменено значение передаваемое параметром в динамический список
ОбщиеФормы.itilprofФормаПодбораАктивов.Аналитика2ПриИзменении - изменено значение передаваемое параметром в динамический список
ОбщиеФормы.itilprofФормаПодбораАктивов.Аналитика3ПриИзменении - изменено значение передаваемое параметром в динамический список
ОбщиеФормы.itilprofФормаПодбораАктивов.Аналитика4ПриИзменении - изменено значение передаваемое параметром в динамический список
ОбщиеФормы.itilprofФормаПодбораАктивов.Аналитика5ПриИзменении - изменено значение передаваемое параметром в динамический список
ОбщиеФормы.itilprofФормаПодбораАктивов.Аналитика6ПриИзменении - изменено значение передаваемое параметром в динамический список
ОбщиеФормы.itilprofФормаПодбораАктивов.Аналитика7ПриИзменении - изменено значение передаваемое параметром в динамический список
ОбщиеФормы.itilprofФормаПодбораАктивов.Аналитика8ПриИзменении - изменено значение передаваемое параметром в динамический список
ОбщиеФормы.itilprofФормаПодбораАктивов.КомандаВыбрать - добавлены дополнительные свойства, передаваемые на родительскую форму при закрытии текущей.
ОбщиеФормы.itilprofФормаПодбораАктивов.ПР_ВыбранноЧисло - добавлена новая процедура, в которой реализованна обработка выбора количества активов/конфигурационных единиц
ОбщиеФормы.itilprofФормаПодбораАктивов.ПриСозданииНаСервере - добавлена передача значений в новые параметры в динамического списока
ОбщиеФормы.itilprofФормаПодбораАктивов.ТаблицаОстатковВыборЗначения - изменен алгоритм обработки выбора значения

================================================================

Константы.ПР_МаршрутЗаявкаНаВыдачуСоСклада - добавлена новая константа, нужна для сопоставления вида запроса (документа itilprofЗапросы) и одноименного маршрута запроса

================================================================

Справочники.itilprofРабочиеМеста - у реквизита "Склад" дополнен тип данных новым типом "СправочникСсылка.Контрагенты"
Справочники.itilprofРабочиеМеста.ФормаВыбора - изменен запрос динамического списка реквизита "Список"
Справочники.itilprofРабочиеМеста.ФормаВыбора.ПриСозданииНаСервере - новая процедура-обработчик, добавлено определение новых параметров динамического списка.

================================================================

Справочники.itilprofТипыАктивов - добавлены новые реквизиты: 1) "ПР_РазрешеноВыдаватьБезЗаявки" - булево; 2) "ПР_РазрешеноЗаменятьВПеремещении" - булево
Справочники.itilprofТипыАктивов.ФормаЭлемента - добавлены новые элементы формы: "ПР_РазрешеноВыдаватьБезЗаявки" и "ПР_РазрешеноЗаменятьВПеремещении"

================================================================

Справочники.itilprofЭтапыМаршрутов - добавлен новый реквизит: "ПР_РазрешеноСозданиеЗаявкиНаВыдачуСоСклада" - булево
Справочники.itilprofЭтапыМаршрутов.ФормаЭлемента - добавлены новые элементы формы: "ПР_РазрешеноСозданиеЗаявкиНаВыдачуСоСклада"

================================================================

Справочники.ПР_ЦелиПеремещения - добавлен новый справочник. Реквизиты: 1) "ПР_ВидОперации" - ПеречислениеСсылка.itilprofВидыОпераций. Справочник имеет предопределенные элементы.
Справочники.ПР_ТипыУведомлений - добавлен новый справочник. Реквизиты: 1) "ПР_ШаблоныУведомлений" - СправочникСсылка.ШаблоныСообщений. Справочник имеет предопределенные элементы.

================================================================

Документы.itilprofЗапросы:
1) Добавлены новые реквизиты: 
    а) "ПР_Получатель" - СправочникСсылка.itilprofРабочиеМеста; 
    б) "ПР_РабочееМестоДо" - СправочникСсылка.itilprofРабочиеМеста; 
    в) "ПР_МОЛДо" - СправочникСсылка.ФизическиеЛица; 
    г) ПР_Цель - СправочникСсылка.ПР_ЦелиПеремещения; 
    д) "ПР_ВидДоставки" - ПеречислениеСсылка.ПР_ВидыДоставки; 
    е) "ПР_Доставщик" - СправочникСсылка.Контрагенты, СправочникСсылка.СтруктураПредприятия, СправочникСсылка.ФизическиеЛица;
2) Добавлена табличная часть: "ПР_КонфигурационныеЕдиницыЗаявкиНаВыдачу", реквизиты: 
    а) "Актив" - СправочникСсылка.itilprofАктивы, СправочникСсылка.itilprofКонфигурационныеЕдиницы
    б) "Количество" - число (10,3); 
    в) "ИдентификаторСтроки" - строка(36). Добавлено новое движение: "РегистрНакопления.ПР_РезервыАктивов"
3) Добавлен документ ввода на основании - itilprofПоступлениеАктивов
4) Добавлены движения по регистру накопления ПР_РезервыАктивов

================================================================

Документы.itilprofЗапросы.МодульОбъекта.ЗаписатьВРезерв - новая процедура, проверка перед записью 
и запись в регистр накопления "ПР_РезервыАктивов, при регистрации заявки или переходе на этап "Зарегистрирован"
маршрута "Заявка на выдачу со склада". Аналог проведения по регистру.

Документы.itilprofЗапросы.МодульОбъекта.ПередЗаписью - добавлен механизм, дозаполнения поля "ИдентификаторСтроки" 
в таблице ПР_КонфигурационныеЕдиницыЗаявкиНаВыдачу

Документы.itilprofЗапросы.МодульОбъекта.УдалитьИзРезерва - новая процедура, проверка перед очисткой и очистка регистра накопления
"ПР_РезервыАктивов" по регистратору при переходе на этап "Отменен" маршрута "Заяка на выдачу со склада". Аналог отмены проведения.

================================================================

Документы.itilprofЗапросы.ФормаДокумента:
1) Добавлены реквизиты формы "СерийныйНомер" и "ИнвентарныйНомер". Добавлена команда "ПР_Подбор"
2) В группу формы "СтраницаОсновное" добавлена новая группа "ПР_ГруппаЗаявкаНаВыдачуСоСклада", новая группа содержит следующие группы и элементы формы:
    а) ПР_ГруппаВерх:
        а1) ПР_ГруппаЛев:
            а11) ПР_РабочееМестоДо
            а12) ПР_МОЛДо
            а13) ПР_Получатель
        а2) ПР_ГруппаПрав
            а21) ПР_Цель
            а22) ПР_Проект1
            а23) ПР_ВидДоставки
            а24) ПР_Доставщик
    б) ПР_ГруппаНиз:
        б1) ПР_КонфигурационныеЕдиницыЗаявкиНаВыдачу
            б11) ПР_КонфигурационныеЕдиницыЗаявкиНаВыдачуНомерСтроки
            б12) ПР_КонфигурационныеЕдиницыЗаявкиНаВыдачуПР_Актив
            б13) ПР_КонфигурационныеЕдиницыЗаявкиНаВыдачуСерийныйНомер
            б14) ПР_КонфигурационныеЕдиницыЗаявкиНаВыдачуИнвентарныйНомер
            б15) ПР_КонфигурационныеЕдиницыЗаявкиНаВыдачуПР_Количество
            б16) ПР_КонфигурационныеЕдиницыЗаявкиНаВыдачуКоманднаяПанель: ПР_Подбор
3) У элемента формы ДокументОснование активировано событие "При изменении"

================================================================

Документы.itilprofЗапросы.ФормаДокумента.ИнвНомер - новая функция, возвращает код справочника активы
Документы.itilprofЗапросы.ФормаДокумента.ПроверкаНаЗапретИзменения - новая функция, возвращает истину, если запрос с видом "Заявка на выдачу со склада" попадает под условия запрета изменения документа
Документы.itilprofЗапросы.ФормаДокумента.ЭтоОС - новая функция, возвращает "Истина", если передаваемый актив имеет тип учета ОС.
Документы.itilprofЗапросы.ФормаДокумента.АвтоЗаполнениеВидаЗапроса - новая процедура, сюда перенесен механизм заполнения реквизита "Вид запроса",
при изменении маршрута запроса.

Документы.itilprofЗапросы.ФормаДокумента.АктивОкончаниеВыбора - новая процедура, обработка выбора актива в ТЧ "ПР_КонфигурационныеЕдиницыЗаявкиНаВыдачу"
Документы.itilprofЗапросы.ФормаДокумента.ВидЗапросаПриИзменении - добавлен вызов процедуры "ВидЗапросаПриИзмененииОбобщающая", 
часть функционала перенесена в это процедуру.

Документы.itilprofЗапросы.ФормаДокумента.ВидЗапросаПриИзмененииОбобщающая - новая процедура, изменение формы при выборе 
определенного вида запроса или маршрута. Вызывается из "ВидЗапросаПриИзменении" и "МаршрутПриИзменении"

Документы.itilprofЗапросы.ФормаДокумента.ДокументОснованиеПриИзменении - новая процедура - обработчик, вызывает 
процедуру "ДокументОснованиеПриИзмененииНаСервере"

Документы.itilprofЗапросы.ФормаДокумента.ДокументОснованиеПриИзмененииНаСервере - новая процедура, заполнение полей документа,
если в качестве документа основания выбран документ itilprofЗапросы с видом "ЗапросНаОборудование"

Документы.itilprofЗапросы.ФормаДокумента.ЗаписьВРезерв - новая процедура, вызывает одноименную процедуру из модуля объекта
Документы.itilprofЗапросы.ФормаДокумента.ЗаполнениеВалютыРасчета - новая процедура, установление видимости элемента формы "ПР_ВалютаРасчетов".
Вызывается из "ВидЗапросаПриИзмененииОбобщающая" и "ПриСозданииНаСервере"

Документы.itilprofЗапросы.ФормаДокумента.ЗаполнениеМаршрутаИзВидаЗапроса - изменен механизм заполнения маргрута по виду запроса.
установка видимости валюты расчета перенесена в "ЗаполнениеВалютыРасчета"

Документы.itilprofЗапросы.ФормаДокумента.ЗаполнитьСерийныйИИнвентарныйНомера - новая процедура, заполнение полей 
формы "СерийныйНомер" и "ИнвентарныйНомер" в ТЧ "ПР_КонфигурационныеЕдиницыЗаявкиНаВыдачу"

Документы.itilprofЗапросы.ФормаДокумента.МаршрутПриИзменении - добавлен вызов процедур "АвтоЗаполнениеВидаЗапроса" и "ВидЗапросаПриИзмененииОбобщающая"
Документы.itilprofЗапросы.ФормаДокумента.ОчисткаТаблицыПриИзменении - новая процедура, показывает вопрос, об очистке табличной части перед началом изменения значения элемента формы.
Документы.itilprofЗапросы.ФормаДокумента.ПередЗаписью - изменена проверка заполнения реквизитов на форме.


